<div *ngIf="entity">
  <div>
    <!--
      <button (click)="lookupMbz()">Lookup MusicBrainz</button>
    -->
    <button (click)="importMbz()">Import MusicBrainz</button>
    <button (click)="fetchLFM()">Fetch LastFM</button>
    <button (click)="saveLFM()">Save LastFM</button>
    <button (click)="fetchCAA()">Fetch CoverArt Archive</button>
    <button (click)="saveCAA()">Save CoverArt Archive</button>
    <button (click)="lookup()">Lookup MongoDB</button>
    <button (click)="reset()">Reset</button>
  </div>
  <h2>{{ entity.name }}</h2>
  <div>
    <div>
      <a routerLink="/{{entityName | lowercase}}/{{ entity.id }}">
        <div *ngFor="let image of entity['images']">

          <div *ngIf="image['size'] == 'large'">
            <img src="{{ image['url'] }}" />
          </div>
        </div>
        <div><span>{{ entity.name }}</span></div>
      </a>
    </div>
  </div>
  <div>
    <h3>Release Groups</h3>
    <div *ngFor="let release of entity['releases']">
      <div *ngIf="release['media'].length == 1">
        <a routerLink="/release/{{ release.id }}">
          <h3>{{ release.title }}
            {{ (release.disambiguation) ? ' - ' + release.disambiguation : '' }}</h3>
        </a>
      </div>
    </div>
  </div>
  <div>
    <h4>Similar Artists</h4>
    <div *ngFor="let similarArtist of entity['similar_artists'] | paginate: { id: 'server', itemsPerPage: itemsPerPage, currentPage: p, totalItems: totalItems }">
      <div>
        <a routerLink="/{{entityName | lowercase}}/{{ similarArtist.id }}">
          <div *ngFor="let image of similarArtist['images']">

            <div *ngIf="image['size'] == 'small'">
              <img src="{{ image['url'] }}" />
            </div>
          </div>
          <div><span>{{ similarArtist.name }}</span></div>
        </a>
      </div>
    </div>
  </div>
  <div>
    <a routerLink="/artist/{{entity.id}}/release-groups">
      <div>
        <h4>Release Groups</h4>
      </div>
    </a>
  </div>
  <ngx-json-viewer [json]="entity" [expanded]="false"></ngx-json-viewer>
</div>